{"remainingRequest":"C:\\wamp64\\www\\basic\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\wamp64\\www\\basic\\frontend\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\wamp64\\www\\basic\\frontend\\src\\router.js","dependencies":[{"path":"C:\\wamp64\\www\\basic\\frontend\\src\\router.js","mtime":1556603579932},{"path":"C:\\wamp64\\www\\basic\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\wamp64\\www\\basic\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\wamp64\\www\\basic\\frontend\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es7.promise.finally\";\nimport Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport { TokenService } from './services/storage.service';\n/**\r\n  Lazy Loading/Code Splitting/Dynamic Components\r\n */\n\nimport Login from '@/views/auth/Login';\nimport Main from '@/layouts/Main'; // const Main     = () => import(/* webpackChunkName: \"main\" */ './layouts/Main')\n// const Login    = () => import(/* webpackChunkName: \"login\" */ './views/auth/Login')\n\nvar Register = function Register() {\n  return import(\n  /* webpackChunkName: \"register\" */\n  './views/auth/Register');\n};\n\nvar Home = function Home() {\n  return import(\n  /* webpackChunkName: \"home\" */\n  './views/Home');\n};\n\nvar About = function About() {\n  return import(\n  /* webpackChunkName: \"about\" */\n  './views/About');\n};\n\nvar Contact = function Contact() {\n  return import(\n  /* webpackChunkName: \"contact\" */\n  './views/Contact');\n};\n\nvar Profile = function Profile() {\n  return import(\n  /* webpackChunkName: \"profile\" */\n  './views/Profile');\n};\n\nVue.use(VueRouter);\nvar router = new VueRouter({\n  mode: 'history',\n  base: 'basic',\n  routes: [{\n    path: '*',\n    redirect: '/home'\n  }, {\n    path: '/',\n    redirect: '/home'\n  }, {\n    path: '/',\n    component: Main,\n    meta: {\n      requiresAuth: true\n    },\n    children: [{\n      path: 'home',\n      component: Home\n    }, {\n      path: 'about',\n      component: About\n    }, {\n      path: 'contact',\n      component: Contact\n    }, {\n      path: 'profile',\n      component: Profile\n    }]\n  }, {\n    path: '/login',\n    component: Login,\n    meta: {\n      forVisitors: true\n    }\n  }, {\n    path: '/register',\n    component: Register,\n    meta: {\n      forVisitors: true\n    }\n  }]\n});\nrouter.beforeEach(function (to, from, next) {\n  var forVisitors = to.matched.some(function (record) {\n    return record.meta.forVisitors;\n  });\n  var requiresAuth = to.matched.some(function (record) {\n    return record.meta.requiresAuth;\n  });\n  var loggedIn = !!TokenService.getUserInstance() && !!TokenService.getToken();\n\n  if (forVisitors) {\n    if (loggedIn) return;else next();\n  } else if (requiresAuth) {\n    if (!loggedIn) next('/login');else next();\n  }\n});\nexport default router;",{"version":3,"sources":["C:\\wamp64\\www\\basic\\frontend\\src\\router.js"],"names":["Vue","VueRouter","TokenService","Login","Main","Register","Home","About","Contact","Profile","use","router","mode","base","routes","path","redirect","component","meta","requiresAuth","children","forVisitors","beforeEach","to","from","next","matched","some","record","loggedIn","getUserInstance","getToken"],"mappings":"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","sourcesContent":["import Vue from 'vue'\r\nimport VueRouter from 'vue-router'\r\nimport { TokenService } from './services/storage.service'\r\n\r\n/**\r\n  Lazy Loading/Code Splitting/Dynamic Components\r\n */\r\n\r\nimport Login from '@/views/auth/Login'\r\nimport Main from '@/layouts/Main'\r\n\r\n// const Main     = () => import(/* webpackChunkName: \"main\" */ './layouts/Main')\r\n// const Login    = () => import(/* webpackChunkName: \"login\" */ './views/auth/Login')\r\nconst Register = () => import(/* webpackChunkName: \"register\" */ './views/auth/Register')\r\nconst Home     = () => import(/* webpackChunkName: \"home\" */ './views/Home')\r\nconst About    = () => import(/* webpackChunkName: \"about\" */ './views/About')\r\nconst Contact  = () => import(/* webpackChunkName: \"contact\" */ './views/Contact')\r\nconst Profile  = () => import(/* webpackChunkName: \"profile\" */ './views/Profile')\r\n\r\nVue.use(VueRouter)\r\n\r\nconst router = new VueRouter({\r\n  mode: 'history',\r\n  base: 'basic',\r\n  routes: [\r\n    { path: '*', redirect: '/home' },\r\n    { path: '/', redirect: '/home'},\r\n    { \r\n      path: '/', \r\n      component: Main,\r\n      meta: { \r\n        requiresAuth: true \r\n      },\r\n      children: [\r\n        { path: 'home', component: Home },\r\n        { path: 'about', component: About },\r\n        { path: 'contact', component: Contact },\r\n        { path: 'profile', component: Profile },\r\n      ]\r\n    },\r\n    { \r\n      path: '/login',\r\n      component: Login,\r\n      meta: { \r\n        forVisitors: true \r\n      }\r\n    },\r\n    {\r\n      path: '/register',\r\n      component: Register,\r\n      meta: {\r\n        forVisitors: true\r\n      }\r\n    }\r\n  ]\r\n})\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n  const forVisitors = to.matched.some(record => record.meta.forVisitors)\r\n  const requiresAuth = to.matched.some(record => record.meta.requiresAuth)\r\n  const loggedIn = !!TokenService.getUserInstance() && !!TokenService.getToken()\r\n\r\n  if (forVisitors) {\r\n    if (loggedIn)\r\n      return\r\n    else next()\r\n  }\r\n  else if (requiresAuth) {\r\n    if (!loggedIn)\r\n      next('/login')\r\n    else next()\r\n  }\r\n})\r\n\r\nexport default router"]}]}